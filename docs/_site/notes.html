<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,maximum-scale=2">
    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=1bf3261aa830dcb7a511d743b387323786e1bbb5">

<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Hide Mesh Values | Darktide Mod: Weapon Customization - OwO</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Hide Mesh Values" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Information about the Extended Weapon Customization mod&#39;s add-on plugin Ostracized without Objection" />
<meta property="og:description" content="Information about the Extended Weapon Customization mod&#39;s add-on plugin Ostracized without Objection" />
<link rel="canonical" href="http://localhost:4000/notes.html" />
<meta property="og:url" content="http://localhost:4000/notes.html" />
<meta property="og:site_name" content="Darktide Mod: Weapon Customization - OwO" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Hide Mesh Values" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"Information about the Extended Weapon Customization mod&#39;s add-on plugin Ostracized without Objection","headline":"Hide Mesh Values","url":"http://localhost:4000/notes.html"}</script>
<!-- End Jekyll SEO tag -->

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" -->

<!-- end custom head snippets -->

  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          
            <a id="forkme_banner" href="https://github.com/Backup158/WeaponCustomizationOwO">View on GitHub</a>
          

          <h1 id="project_title">Darktide Mod: Weapon Customization - OwO</h1>
          <h2 id="project_tagline">Information about the Extended Weapon Customization mod's add-on plugin Ostracized without Objection</h2>

          
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1 id="hide-mesh-values">Hide Mesh Values</h1>
<pre><code>hide_mesh = {
	{&quot;&lt;slot&gt;&quot;, &lt;mesh numbers&gt;},
	{&quot;sight&quot;, 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15},
},
</code></pre>
<p>There are 15 regions in total, 1-15</p>
<table>
<thead>
<tr>
<th>Part</th>
<th>Hide Codes</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Reflex Sight Housing</td>
<td><code>{&quot;sight&quot;, 6,7}</code></td>
<td></td>
</tr>
<tr>
<td>Reflex Sight Reticle</td>
<td><code>{&quot;sight&quot;, 1}</code></td>
<td>Sometimes doesn't hide the &quot;glass part&quot; around the reticle</td>
</tr>
<tr>
<td>MT Helper Reflex Housing</td>
<td><code>{&quot;sight_2&quot;, 5,6}</code></td>
<td>6 hides housing for sight 1<br>5 hides housing for sights 2 and 3</td>
</tr>
<tr>
<td>Autogun Irons</td>
<td><code>{&quot;sight&quot;, 2,3,4,5,6}</code></td>
<td>one of these is the front rail lol</td>
</tr>
<tr>
<td>Chainsword Trigger</td>
<td>----</td>
<td>One whole thing</td>
</tr>
<tr>
<td>Rippergun Body</td>
<td><code>{&quot;stockac2&quot;, 7,8,9,10,11,12,13,14,15}</code></td>
<td>one of these lol</td>
</tr>
<tr>
<td>Rippergun Body</td>
<td><code>{&quot;stockac2&quot;, 4}</code></td>
<td>most of the body</td>
</tr>
<tr>
<td>Rippergun Body</td>
<td><code>{&quot;stockac2&quot;, 5,6}</code></td>
<td>trigger</td>
</tr>
</tbody>
</table>
<h1 id="parts-not-showing-up">Parts not showing up?</h1>
<ol>
<li>Make sure the weapon file is in <code>files_to_load.lua</code></li>
<li>Make sure the parts are declared with something in the main slot</li>
<li>Make sure the helper is being auto equipped by the main attachment</li>
<li>If a helper part is parented to a part that uses the same mesh, it will not show up
Avoid this by parenting to the main mesh's parent and just copying the transforms to put them in the same place</li>
</ol>
<h1 id="scope-offsets">Scope offsets</h1>
<p>Set <code>no_scope_offset</code> or <code>scope_offset</code>, depending on if the attachment's base mesh is in <code>wc.scopes</code> table
These transformations move <strong>the gun</strong>. Use Crosshair Remap (Continued) to see the aiming point, then move the gun based on that. See <a href="moddingtoolsCheatSheet.png">my Modding Tools cheat sheet</a>.
position: x, z, y
+x moves gun to the right
+y moves gun up
+z moves gun forwards
rotation: y, x, z
+x put gun offset to the right
+y put gun below</p>
<h1 id="parts-not-accept-transformations">Parts not accept transformations</h1>
<ol>
<li>Restart the game instead of spam reloading</li>
<li>Sometimes setting <code>offset = false</code> makes it literally freeze on the screen, so it doesn't even rotate with the weapon
<ol>
<li>if you set offset to false, parent it to another slot</li>
<li>the following transformation can end up cursed, but still possible (much bigger changes than expected)</li>
</ol>
</li>
<li>Can try parenting it to a specific node, with some caveats
<ol>
<li>We don't have a convenient list of nodes</li>
<li>The node can move during gameplay. Key example being the final bullet of autogun magazines moving up as you shoot.</li>
</ol>
</li>
</ol>
<table>
<thead>
<tr>
<th>Base Mesh</th>
<th>Node</th>
<th>What Node Is</th>
</tr>
</thead>
<tbody>
<tr>
<td>Shovel Heads</td>
<td>8</td>
<td></td>
</tr>
<tr>
<td>Tacax Heads</td>
<td></td>
<td></td>
</tr>
<tr>
<td>Shovel Grips</td>
<td>7</td>
<td></td>
</tr>
<tr>
<td>Autogun Mags (1-3)</td>
<td>2</td>
<td>The final bullet or spring</td>
</tr>
<tr>
<td>Autogun Mag (4)</td>
<td>6</td>
<td>The final bullet or spring</td>
</tr>
</tbody>
</table>
<h1 id="muzzle-flash-origin-getting-stolen">Muzzle flash origin getting stolen</h1>
<p>FIRST OF ALL! Make sure that you have a muzzle on in the first place. The MT No Muzzle option uses an empty mesh, so there's no point to latch onto the muzzle flash. This makes it go somewhere else, such as the barrel origin (which is usually in the middle of the gun). Use the invisible muzzle option instead.</p>
<p>This comes from having the main part be a muzzle that matches the actual muzzle that would've been used by the gun
NEVEFUCKING MIND??!?!? I USED A BRAUTO MUZZLE (in AC2!!!) ON A RECON AND IT STILL STOLE IT?!?!?
It also doesn't even need to match the gun. The autogun muzzles were stealing lasgun shots, and vice versa (SUSAT and Underbarrel GLs, respectively).</p>
<h1 id="adding-scopes-with-zoom">Adding scopes with zoom</h1>
<h2 id="in-rangedlua">In Ranged.lua</h2>
<ol>
<li>Declare your scope
<ol>
<li>Use a base mesh that is NOT a muzzle/barrel. This is to reduce the risk of it stealing muzzle flashes.</li>
<li>Make it invisible:</li>
</ol>
<pre><code>    hide_mesh = {
		{&quot;sight&quot;, 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15}
	}, 
</code></pre>For OwO, I used <code>_item_melee..&quot;/pommels/axe_pommel_01&quot;</code> to 5.
NOTE: Syn already used
power_sword_grip_02
power_sword_grip_03</li>
<li>In the attachment declaration's <code>automatic_equip</code> table, choose a lens1 and a lens2
<code>lens = &quot;scope_lens_02&quot;, lens_2 = &quot;scope_lens_2_02&quot;</code></li>
<li>Append the scope's <code>attachment.id</code> to <code>wc.sights</code> table</li>
</ol>
<pre><code>	mod.mt.table_append(mod.wc.sights, {
        &quot;owo_holosight_01_01&quot;,
    })
</code></pre>
<ol start="4">
<li>Append base mesh to scope table to affect zoom</li>
</ol>
<pre><code>	mod.mt.table_append(mod.wc.scopes, {
        &quot;axe_pommel_01&quot;,
    })
</code></pre>
<ol start="5">
<li>Set zoom level
50 zoom is no zoom. Same FOV as hipfire. 40 is around the same as default ADS.
zoom = ~(40/n magnification)
ex: 2x mag is (40/2) = 20
<code>mod.wc.sniper_zoom_levels.axe_pommel_01 = 15</code></li>
</ol>
<h2 id="in-ltweaponvariantgtlua">In &lt;weapon_variant&gt;.lua</h2>
<ol start="5">
<li>When aligning lenses, add <code>data = {lens = x}</code> where x is which lense# it is, lens is lens = 1</li>
<li>In scope_offset, lense_transparency = true to hide lenses
By default, this is set to false
However, setting it to false doesn't seem to let you not hide lenses. This is actually controlled by the wc.sights table.</li>
</ol>
<h1 id="making-parts-follow-animations">Making Parts follow animations</h1>
<h2 id="when-the-parent-already-exists">When the parent already exists</h2>
<p>For the main part (which all the helpers follow):</p>
<ol>
<li>Set <code>offset = false</code>. I guess re-parenting is part of the animation process</li>
<li>Set parent to the moving part</li>
<li>Specify parent_node
For revolver, it would be <code>offset = false, parent = &quot;barrel&quot;, parent_node = 9,</code></li>
</ol>
<h1 id="creating-a-new--attachment-slot">Creating a New  Attachment Slot</h1>
<p><strong>In the &lt;common/category&gt;.lua</strong> (if you want to apply it to multiple weapons)</p>
<ol>
<li>First, check if it exists already
<ol>
<li>If it doesn't, fill up a table for it. Be sure to make the first entry the empty/default one. EWC auto equips the first one for every weapon.<pre><code>mod.wc.add_custom_attachments.SLOT = &quot;SLOT_list&quot;
mod.wc.SLOT_list = {
	&quot;attachment_default&quot;,
	&quot;attachment_01&quot;,
	&quot;attachment_02&quot;,
}
</code></pre></li>
<li>If it does, find out what the original SLOT_list is called. The base and other plugins tend to call these &quot;<strong>SLOT</strong>s&quot; but sometimes the &quot;s&quot; follows proper grammatical rules, such as with bipods. I don't do this.<pre><code>mod.table_append(mod.wc.SLOT_list, {
	&quot;attachment_01&quot;,
})
</code></pre></li>
<li>To make it a compatibility patch, use <code>get_mod</code> to see if the mod exists. Because this returns a bool, you can use it as a condition for an if statement<pre><code>if PLUGIN then 
	-- append to table PLUGIN created
else
	-- create slot
	-- write out your slot's list
end
</code></pre></li>
</ol>
</li>
<li>[OPTIONAL] To make it visible, give it a localization. The slot won't show up until you actually add attachments to it. E.g. if you create a BLADEBULGE and declare the slot, but only inject attachments to it for the Chain Axe, only the Chain Axe's customization menu will have options for it.<pre><code>table.insert(mod.wc.attachment_slots, &quot;SLOT&quot;)
mod:add_global_localize_strings({
	loc_weapon_cosmetics_customization_SLOT = {
		en = &quot;SLOT NAME&quot;,
	},
})
</code></pre></li>
</ol>
<p><strong>In the &lt;weapon_variant&gt;</strong>
3. Check if slot exists for this weapon in particular.
<code>grep -Rn &quot;SLOT = {}&quot;</code> is very helpful here
1. If it does not exist yet, declare an empty table for it
<code>mod.wc.attachment[this_variant].SLOT = {}</code>
2. If it does, don't do anything
3. You can make a patch as above, but slightly modified
<code>if not PLUGIN then  -- create empty table for slot end</code>
4. Inject the attachments and fixes as you wish</p>
<h1 id="other-fucky-wucky-thingies-to-note">Other Fucky Wucky Thingies to Note</h1>
<p>Tactical axe's <code>attachment_models</code> table is incorrectly defined in <code>weapon_customization_anchors.lua</code>. Marks 2 and 3 copy over the tables from</p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        
        <p class="copyright">Darktide Mod: Weapon Customization - OwO maintained by <a href="https://github.com/Backup158">Backup158</a></p>
        
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>
  </body>
</html>
